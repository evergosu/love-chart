import { Human } from "./human.js";

export class Woman extends Human {
  private bigEmotionDay = 30;
  private smallEmotionDay = 14;
  public amplitude = 50;

  constructor(
    public value: number,
    decayRange: [number, number],
    private initialManCapacity: number,
  ) {
    super(value, thoughts, emojis, decayRange);
  }

  private emote(value: number) {
    this.value += value;
  }

  private getEmotionAmplitude(): number {
    return this.amplitude * (1 + this.discontent * 0.05);
  }

  public addDiscontent() {
    super.addDiscontent();

    this.emote(-(Math.random() * 10 + 10));
  }

  public changeEmotions(day: number) {
    if (day > this.decayDuration) {
      const amplitude = this.getEmotionAmplitude();

      if (day % this.bigEmotionDay === 0) {
        this.emote((Math.random() - 0.5) * amplitude);
      } else if (
        day % this.smallEmotionDay === 0 ||
        this.isRageFromDiscontent()
      ) {
        this.emote((Math.random() - 0.5) * (amplitude / 2));
      }

      this.value = Math.max(
        -this.initialManCapacity,
        Math.min(this.initialManCapacity, this.value),
      );
    }
  }

  public decay(day: number) {
    if (day <= this.decayDuration) {
      const noise = (Math.random() - 0.5) * this.decayStep * 5;

      const direction = Math.random() < 0.9 ? -1 : 1;

      this.value += direction * (this.decayStep + noise);
    }
  }

  public retainDiscontent() {
    if (this.discontent > 0) {
      this.discontent -= this.discontent * 0.9;
    }
  }
}

const emojis = [
  "🥰",
  "😍",
  "😘",
  "😚",
  "😙",
  "☺️",
  "😊",
  "😇",
  "😌",
  "🙂",
  "😽",
  "😻",
  "😺",
  "😸",
  "😁",
  "😀",
  "😃",
  "😄",
  "😉",
  "😆",
  "😋",
  "🤗",
  "😅",
  "😎",
  "😏",
  "😶",
  "😐",
  "😑",
  "🤔",
  "🫥",
  "😬",
  "🤨",
  "😕",
  "🙃",
  "😟",
  "🙁",
  "☹️",
  "😒",
  "😞",
  "😔",
  "😣",
  "😖",
  "🥹",
  "😫",
  "😩",
  "🥺",
  "😢",
  "😭",
  "😤",
  "😠",
  "😡",
  "🤬",
  "👿",
  "🙄",
  "🫤",
  "😓",
  "😥",
  "😰",
  "😨",
  "😧",
  "😦",
  "😮‍💨",
  "😵",
  "🥴",
  "😵‍💫",
  "😳",
  "🫣",
  "🤯",
  "😱",
  "😲",
  "🤢",
  "🤮",
  "🤧",
  "😷",
  "🤕",
  "🤒",
  "🥶",
  "🥵",
  "😪",
  "🥱",
  "😴",
  "😞",
  "🫠",
  "🤥",
  "🤫",
  "🤭",
  "😶‍🌫️",
  "🫨",
  "😬",
  "😿",
  "😾",
  "🙀",
  "😯",
  "😮",
  "😰",
  "😓",
  "😤",
  "😡",
  "🤬",
  "👿",
  "😖",
  "😣",
  "😞",
  "☹️",
  "🙁",
  "😠",
  "😢",
  "😭",
  "😤",
  "😐",
];

const thoughts = [
  "Я чувствую себя любимой",
  "Он — мой человек",
  "С ним я могу быть собой",
  "Мне спокойно рядом с ним",
  "Я счастлива, что он рядом",
  "Я люблю его всей душой",
  "Он заботливый и внимательный",
  "Мы — сильная пара",
  "Я горжусь нашими отношениями",
  "Он умеет меня поддержать",
  "Я вижу в нём надёжность",
  "Он делает меня лучше",
  "Мы вместе растём",
  "С ним легко и тепло",
  "Я могу ему доверять",
  "Он слушает и слышит меня",
  "Мне нравится, как он смотрит на меня",
  "Он уважает мои границы",
  "Я чувствую себя нужной",
  "Он вдохновляет меня",
  "Я благодарна за него",
  "С ним жизнь полна смысла",
  "Он заботится о моих чувствах",
  "Мы дополняем друг друга",
  "Он делает меня счастливой",
  "С ним я смеюсь от души",
  "Я чувствую себя красивой рядом с ним",
  "Он интересуется моим мнением",
  "Мы делаем шаги навстречу",
  "Он умеет мириться первым",
  "Он принимает мою уязвимость",
  "Он замечает мелочи",
  "Я могу говорить с ним о чём угодно",
  "Он рядом, когда мне плохо",
  "Мы вместе преодолеваем трудности",
  "Он даёт мне свободу",
  "Я уверена в нём",
  "Я чувствую тепло его слов",
  "Он разделяет мои ценности",
  "Мы вместе создаём уют",
  "Он старается ради нас",
  "Иногда я устаю, но я всё равно его люблю",
  "Я хочу большего понимания",
  "Иногда он не слышит, но я стараюсь объяснить",
  "Я скучаю по романтике",
  "Мы немного отдалились",
  "Я чувствую себя не до конца понятой",
  "Мне не хватает искренности",
  "Иногда он холоден",
  "Я хочу, чтобы он был ближе",
  "Я держу многое в себе",
  "Я не всегда чувствую его участие",
  "Он стал меньше интересоваться мной",
  "Я скучаю по тем временам",
  "Я не знаю, что он чувствует",
  "Мне тяжело говорить о своих желаниях",
  "Иногда я чувствую одиночество рядом с ним",
  "Я устаю от равнодушия",
  "Я чувствую дистанцию",
  "Он будто не замечает моих эмоций",
  "Мне не хватает разговоров",
  "Я стараюсь — он молчит",
  "Я начинаю сомневаться",
  "Я не уверена в его чувствах",
  "Он стал чужим",
  "Я чувствую себя ненужной",
  "Мне больно от его слов",
  "Он всё чаще раздражается",
  "Я боюсь показаться слабой",
  "Иногда я не узнаю его",
  "Мне кажется, я больше вкладываюсь",
  "Я не чувствую отклика",
  "Мне тяжело быть рядом",
  "Я теряю себя в этих отношениях",
  "Он отдаляется всё больше",
  "Я чувствую вину за всё",
  "Я плачу в одиночку",
  "Я устала бороться",
  "Он меня не слышит",
  "Я чувствую себя неценной",
  "Мы как соседи",
  "Я боюсь признаться в своих мыслях",
  "Я не чувствую любви",
  "Я держусь из последних сил",
  "Иногда я мечтаю исчезнуть",
  "Мне страшно остаться, но страшнее уйти",
  "Я больше не верю в нас",
  "Я будто пустая внутри",
  "Я не хочу больше надеяться",
  "Он как будто рядом и не рядом",
  "Я устала молчать",
  "Я не знаю, кто я рядом с ним",
  "Я чувствую конец",
  "Я больше не могу притворяться",
  "Всё, что было, исчезло",
  "Я чувствую, как исчезаю",
  "Я не вижу смысла",
  "Мне больно от воспоминаний",
  "Я уже мысленно прощаюсь",
  "Я сломлена",
  "Я хочу уйти",
  "Я больше его не люблю",
  "Я чувствую только пустоту",
  "Это конец",
];
